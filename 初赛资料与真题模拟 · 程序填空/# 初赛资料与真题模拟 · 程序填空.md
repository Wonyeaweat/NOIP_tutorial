# åˆèµ›èµ„æ–™ä¸çœŸé¢˜æ¨¡æ‹Ÿ Â· ç¨‹åºå¡«ç©º


## 2018 Junior

å®Œå–„ç¨‹åº

ï¼ˆæœ€å¤§å…¬çº¦æ•°ä¹‹å’Œï¼‰ä¸‹åˆ—ç¨‹åºæƒ³è¦æ±‚è§£æ•´æ•°ğ‘›çš„æ‰€æœ‰çº¦æ•°ä¸¤ä¸¤ä¹‹é—´æœ€å¤§å…¬çº¦æ•°çš„å’Œå¯¹ 10007 æ±‚ä½™åçš„å€¼ï¼Œè¯•è¡¥å…¨ç¨‹åºã€‚ï¼ˆç¬¬ä¸€ç©º2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰ä¸¾ä¾‹æ¥è¯´ï¼Œ4 çš„æ‰€æœ‰çº¦æ•°æ˜¯ 1, 2, 4 ã€‚1 å’Œ 2 çš„æœ€å¤§å…¬çº¦æ•°ä¸º 1 ï¼›2 å’Œ 4 çš„æœ€å¤§å…¬çº¦æ•°ä¸º 2 ï¼›1 å’Œ 4 çš„æœ€å¤§å…¬çº¦æ•°ä¸º 1 ã€‚äºæ˜¯ç­”æ¡ˆä¸º1 + 2 + 1 = 4ã€‚

è¦æ±‚getDivisor å‡½æ•°çš„å¤æ‚åº¦ä¸ºğ‘‚(âˆšğ‘›)ï¼Œgcd å‡½æ•°çš„å¤æ‚åº¦ä¸ºğ‘‚(log max(ğ‘, ğ‘))ã€‚

```C++
#include <iostream>
using namespace std;

const int N = 110000, P = 10007;
int n;
int a[N], len;
int ans;

void getDivisor() {
    len = 0;
    for (int i = 1; ___________ <= n; ++i)
        if (n % i == 0) {
          a[++len] = i;
          if ( _________ != i) a[++len] = n / i;
        }
}

int gcd(int a, int b) {
    if (b == 0) { __________________ ;  }
    return gcd(b, ______________);
}

int main() {
    cin >> n;
    getDivisor();
    ans = 0;
    for (int i = 1; i <= len; ++i) 
        for (int j = i + 1; j <= len; ++j) 
        	ans = ( __________ ) % P;
    cout << ans << endl;
    return 0;
}

```
+ ç­”æ¡ˆï¼š 
1. i * i;
2. n / i
3. return a
4. a % b
5. ans + gcd(a[i],a[j])

+ åˆ†æï¼š
  + å¯¹äºç¬¬å››ã€äº”ç©ºè¾ƒä¸ºç®€å•ï¼Œç›´æ¥é»˜å†™æ¬§å‡ é‡Œå¾—è¾—è½¬ç›¸é™¤æ³•å³å¯ã€‚
  + getDivisorå‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œä¸ºæ±‚å› å­çš„å‡½æ•°ã€‚å…¶ä¸­`if (n % i == 0) a[++len] = i;` è¯´æ˜forå¾ªç¯æšä¸¾æ•°å­—iæ˜¯å¦æ˜¯nçš„å› å­ã€‚
  + ç”±äºå› å­æ€»æ˜¯æˆå¯¹å‡ºç°ï¼Œæ‰€ä»¥åªéœ€è¦æšä¸¾åˆ°$ \sqrt(n)$å³å¯ï¼Œé¢˜ç›®ä¹Ÿæ˜¯å¦‚æ­¤è¦æ±‚ã€‚
  + å› æ­¤ï¼Œè‹¥næ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¦é¿å…å› å­iä¸n/içš„é‡å¤æ·»åŠ ã€‚
  + a[]æ•°ç»„ä¿å­˜äº†å„ä¸ªå› å­ï¼Œæšä¸¾ï¼Œæ±‚å’Œï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚

---

å¯¹äºä¸€ä¸ª 1 åˆ° n çš„æ’åˆ— Pï¼ˆå³ 1 åˆ° n ä¸­æ¯ä¸€ä¸ªæ•°åœ¨ P ä¸­å‡ºç°äº†æ°å¥½ä¸€æ¬¡ï¼‰ï¼Œä»¤ q[i] ä¸ºç¬¬ i ä¸ªä½ç½®ä¹‹åç¬¬ä¸€ä¸ªæ¯” P[i] å€¼æ›´å¤§çš„ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä½ç½®ï¼Œåˆ™ q[i] = n + 1ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœ n = 5 ä¸” P ä¸º 1 5 4 2 3 ï¼Œåˆ™ q ä¸º2 6 6 5 6ã€‚

ä¸‹åˆ—ç¨‹åºè¯»å…¥äº†æ’åˆ— P ï¼Œä½¿ç”¨åŒå‘é“¾è¡¨æ±‚è§£äº†ç­”æ¡ˆã€‚è¯•è¡¥å…¨ç¨‹åºã€‚

```C++
#include <iostream>
using namespace std;

const int N = 100010;
int n;
int L[N], R[N], a[N];

int main() {
    cin >> n;
    for (int i = 1; i <= n; ++i) {
        int x; cin >> x;
        _______________ ;
    }
    for (int i = 1; i <= n; ++i) {
        R[i] = _______________ ;
        L[i] = i - 1;
    }
    for (int i = 1; i <= n; ++i) {
        L[ ____________ ] = L[a[i]];
        R[L[a[i]]] = R[ ____________ ];
    }
    for (int i = 1; i <= n; ++i) 
    	cout << ______________ << " ";
    cout << endl;
    return 0;
}
```
+ ç­”æ¡ˆï¼š
1. a[x]=i;
2. i+1;
3. R[a[i]]
4. a[i]
5. R[i]

+ åˆ†æï¼š
  + ç”±äºæ˜¯æ’åˆ—ï¼Œæ•…æˆ‘ä»¬éœ€è¦è®°å½•æ•°å­—ä¸ºiçš„ä½ç½®æ˜¯a[i]ã€‚è¿™æ ·æ–¹ä¾¿æˆ‘ä»¬å¤„ç†å¤§å°æ¯”è¾ƒå…³ç³»ã€‚ 
  + é¢˜ç›®è¯´æ˜ï¼Œé‡‡ç”¨åŒå‘é“¾è¡¨ï¼Œå› æ­¤å¿…ç„¶æœ‰å‰é©±åç»§çš„æŒ‡é’ˆã€‚åˆç”±äºä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿï¼Œæ•…æ¯ä¸ªç»“ç‚¹çš„å‰é©±å°±æ˜¯i-1,åç»§å°±æ˜¯i+1.åˆ†åˆ«ä¿å­˜åœ¨Læ•°ç»„ä¸Ræ•°ç»„ã€‚
  + æ¨¡ä»¿ä¸Šä¸‹æ–‡ï¼Œå¯¹ç§°ä¹¦å†™ï¼Œæ„é€ åŒå‘é“¾è¡¨ã€‚


---

## 2018 Senior

æé«˜ç»„å®Œå–„ç¨‹åºçš„ç¬¬ä¸€é¢˜å³ä¸ºæ™®åŠç»„çš„ç¬¬äºŒé¢˜ã€‚

---

ä¸€åªå°çŒªè¦ä¹° N ä»¶ç‰©å“ï¼ˆN ä¸è¶…è¿‡ 1000ï¼‰ã€‚

å®ƒè¦ä¹°çš„æ‰€æœ‰ç‰©å“åœ¨ä¸¤å®¶å•†åº—é‡Œéƒ½æœ‰å–ã€‚ç¬¬ i ä»¶ç‰©å“åœ¨ç¬¬ä¸€å®¶å•†åº—çš„ä»·æ ¼æ˜¯ a[i] ï¼Œåœ¨ç¬¬äºŒå®¶å•†åº—çš„ä»·æ ¼æ˜¯ b[i] ï¼Œä¸¤ä¸ªä»·æ ¼éƒ½ä¸å°äº 0 ä¸”ä¸è¶…è¿‡ 10000ã€‚å¦‚æœåœ¨ç¬¬ä¸€å®¶å•†åº—ä¹°çš„ç‰©å“çš„æ€»é¢ä¸å°‘äº 50000ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€å®¶åº—ä¹°çš„ç‰©å“éƒ½å¯ä»¥æ‰“ 95 æŠ˜(ä»·æ ¼å˜ä¸ºåŸæ¥çš„ 0.95 å€)ã€‚

æ±‚å°çŒªä¹°é½æ‰€æœ‰ç‰©å“æ‰€éœ€æœ€å°‘çš„æ€»é¢ã€‚

è¾“å…¥ï¼šç¬¬ä¸€è¡Œä¸€ä¸ªæ•° Nã€‚æ¥ä¸‹æ¥N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°ã€‚ç¬¬ i è¡Œçš„ä¸¤ä¸ªæ•°åˆ†åˆ«ä»£è¡¨ a[i]ï¼Œb[i]ã€‚
è¾“å‡ºï¼šè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæœ€å°‘éœ€è¦çš„æ€»é¢ï¼Œä¿ç•™ä¸¤ä½å°æ•°ã€‚

è¯•è¡¥å…¨ç¨‹åºã€‚

```C++
#include <cstdio>
#include <cstdlib>
using namespace std;

const int Inf = 1000000000;
const int threshold = 50000;
const int maxn = 1000;

int n, a[maxn], b[maxn];
bool put_a[maxn];
int total_a, total_b;

double ans;
int f[threshold];

int main() {
    scanf("%d", &n);
    total_a = total_b = 0;
    for (int i = 0; i < n; ++i) {
        scanf("%d%d", a + i, b + i);
        if (a[i] <= b[i]) total_a += a[i];
        else total_b += b[i];
    }
    ans = total_a + total_b;
    total_a = total_b = 0;
    for (int i = 0; i < n; ++i) {
        if (______________) {
            put_a[i] = true;
            total_a += a[i];
        } else {
            put_a[i] = false;
            total_b += b[i];
        }
    }
    if ( _______________ ) {
        printf("%.2f", total_a * 0.95 + total_b);
        return 0;
    }
    f[0] = 0;
    for (int i = 1; i < threshold; ++i)
        f[i] = Inf;
    int total_b_prefix = 0;
    for (int i = 0; i < n; ++i)
        if (!put_a[i]) {
            total_b_prefix += b[i];
            for (int j = threshold - 1; j >= 0; --j) {
                if ( ____________ >= threshold && f[j] != Inf)
                    ans = min(ans, (total_a + j + a[i]) * 0.95 +___________);
                f[j] = min(f[j] + b[i], j >= a[i] ? _________________: Inf);
            }
        }
    printf("%.2f", ans);
    return 0;
}
```

+ ç­”æ¡ˆï¼š
1. a[i] * 0.95 <= b[i] 
2. total_a >= threshold / total_a >= 50000  
3. total_a + j + a[i] 
4. f[j] + total_b - total_b_prefix 
5. f[j - a[i]] 

+ åˆ†æï¼š
  + è´ªå¿ƒæ€è·¯ï¼Œä¸€å¼€å§‹æ¯”è¾ƒæ¯ä¸ªè´§ç‰©ï¼Œé€‰æ‹©ä¾¿å®œçš„ä¸€å®¶è´­ä¹°ï¼Œä»·æ ¼ç´¯åŠ åˆ°total_aæˆ–total_bã€‚
  + æ¥ç€ï¼Œè€ƒè™‘æ›´æ¢å•†å®¶æ˜¯å¦ä¼šæ›´èµšâ€”â€”å¦‚æœè¿™ä¸ªç‰©å“åœ¨Aå•†åº—è´­ä¹°æ‰“95æŠ˜æ¯”åœ¨Bå•†åº—ä¾¿å®œï¼Œåˆ™è€ƒè™‘åœ¨Aå•†åº—é€‰è´­ã€‚å¦åˆ™ç›´æ¥åœ¨Bå•†åº—é‡‡è´­ã€‚
  + å¦‚æœæ»¡è¶³Aå•†åº—æ‰“æŠ˜æ¡ä»¶â€”â€”æ»¡50000åˆ™è¯´æ˜ä¹‹å‰çš„å†³ç­–æ˜¯æœ€ä¼˜çš„ã€‚
  + è‹¥æ— æ³•æ»¡è¶³ï¼Œåˆ™è¯´æ˜å½“å‰æƒ…å†µä¸‹æ— æ³•ä¹°å¤Ÿ50000ï¼Œåˆ™éœ€è¦è€ƒè™‘å…¶ä»–æ–¹æ¡ˆã€‚
  + è®¾f[i] è¡¨ç¤ºä» å½“å‰å‰ç¼€çŠ¶æ€ä¸‹ï¼Œ ä¹°æ€»ä»·æ ¼ä¸º i çš„ç‰©å“ï¼Œæ‰€éœ€è¦å»B å•†åœºçš„æœ€å°èŠ±è´¹ï¼Œæ­¤æ—¶è½¬å˜æˆä¸€ä¸ªç±»ä¼¼èƒŒåŒ…çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚æšä¸¾æ¯ä¸ªæœ¬æ¥åœ¨Bå•†åº—è´­ä¹°çš„å•†å“æ”¾åˆ°Aå•†åº—è´­ä¹°ï¼Œèƒ½å¦å‡‘å¤Ÿ50000è·å¾—æŠ˜æ‰£ï¼Œä½¿å¾—æ€»èŠ±è´¹é™ä½ã€‚
  + ä¹Ÿå³ï¼Œå¯¹äºæ¯ä¸ªç‰©å“ï¼Œè€ƒè™‘æ˜¯ç›´æ¥åœ¨Bå•†å“è´­ä¹°è¿˜æ˜¯åœ¨Aå•†åº—è´­ä¹°ï¼ˆä¿è¯å‡‘å¤Ÿ50000ï¼‰æ—¶æ›´ä¼˜ã€‚


---

## 2017 Junior



ï¼ˆå¿«é€Ÿå¹‚ï¼‰ è¯·å®Œå–„ä¸‹é¢çš„ç¨‹åºï¼Œè¯¥ç¨‹åºä½¿ç”¨åˆ†æ²»æ³•æ±‚$x^p mod m$ çš„å€¼ã€‚ï¼ˆç¬¬ä¸€ç©º 2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰

è¾“å…¥ï¼šä¸‰ä¸ªä¸è¶…è¿‡ 10000 çš„æ­£æ•´æ•° xï¼Œpï¼Œmã€‚
è¾“å‡ºï¼š$x^p mod m $çš„å€¼ã€‚
æç¤ºï¼šè‹¥ $p$ ä¸ºå¶æ•°ï¼Œ$x^p=(x^2) ^{p/2}$ï¼›è‹¥ p ä¸ºå¥‡æ•°ï¼Œ$ x^p = x * (x^2) ^{ (p-1)/2 } $

```C++
#include<iostream>
using namespace std;
int x, p, m, i, result;
int main(){
	cin >> x >> p >> m;
	result = ________________;
	while (_____________________){
		if (p % 2 == 1)
			result = _________________;
		p /= 2;
		x = _______________;
	}
	cout << __________________ << endl;
	return 0;
}
```

+ ç­”æ¡ˆï¼š
1. 1
2. p>0 æˆ– p!=0 æˆ– p
3. result * x % m
4. x * x % m
5. result

+ åˆ†æï¼šè£¸å¿«é€Ÿå¹‚ï¼Œéé€’å½’æ¨¡æ¿ã€‚èƒŒè¯µã€‚


---

ï¼ˆåˆ‡å‰²ç»³å­ï¼‰ æœ‰ n æ¡ç»³å­ï¼Œæ¯æ¡ç»³å­çš„é•¿åº¦å·²çŸ¥ä¸”å‡ä¸ºæ­£æ•´æ•°ã€‚ç»³å­å¯ä»¥ä»¥ä»»æ„æ­£æ•´æ•°é•¿åº¦åˆ‡å‰²ï¼Œä½†ä¸å¯ä»¥è¿æ¥ã€‚ç°åœ¨è¦ä»è¿™äº›ç»³å­ä¸­åˆ‡å‰²å‡º m æ¡é•¿åº¦ç›¸åŒçš„ç»³æ®µï¼Œæ±‚ç»³æ®µçš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ã€‚ï¼ˆç¬¬ä¸€ã€äºŒç©º 2.5 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰

è¾“å…¥ï¼šç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªä¸è¶…è¿‡ 100 çš„æ­£æ•´æ•° nï¼Œç¬¬äºŒè¡Œæ˜¯ n ä¸ªä¸è¶…è¿‡$10^{6}$çš„æ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ¯æ¡ç»³å­çš„é•¿åº¦ï¼Œç¬¬ä¸‰è¡Œæ˜¯ä¸€ä¸ªä¸è¶…è¿‡$10^8$çš„æ­£æ•´æ•° mã€‚ è¾“å‡ºï¼šç»³æ®µçš„æœ€å¤§é•¿åº¦ï¼Œè‹¥æ— æ³•åˆ‡å‰²ï¼Œè¾“å‡º Failedã€‚

```C++
#include<iostream>
using namespace std;
int n, m, i, lbound, ubound, mid, count;
int len[100]; // ç»³å­é•¿åº¦
int main(){
    cin >> n;
    count = 0;
    for (i = 0; i < n; i++){
        cin >> len[i];
        _________________________;
    }
    cin >> m;
    if (________________________){
        cout << "Failed" << endl;
        return 0;
    }
    lbound = 1;
    ubound = 1000000;
    while (_______________________){
        mid = __________________;
        count = 0;
        for (i = 0; i < n; i++)
            ___________________;
        if (count < m) ubound = mid - 1;
        else lbound = mid;
    }
    cout << lbound << endl;
    return 0;
}
```

+ ç­”æ¡ˆï¼š
1. count += len[i]
2. count < m
3. lbound < rbound
4. (lbound + rbound + 1) /2
5. count += len[i]/mid

+ åˆ†æï¼š
  + è‹¥æ‰€æœ‰æ®µåŠ èµ·æ¥éƒ½æ²¡æœ‰mï¼Œåˆ™å¿…ç„¶æ— è§£ã€‚ï¼ˆæœ€å°æƒ…å†µåˆ†æˆmä¸ª1ï¼‰ã€‚
  + ä½¿ç”¨countç´¯åŠ æ±‚å’Œï¼Œåˆ¤æ–­ä¸mçš„å¤§å°ã€‚
  + äºŒåˆ†ç­”æ¡ˆçš„æ¡ä»¶åˆ¤æ–­ï¼Œå¤šå¸¦å‡ ç»„å€¼éªŒè¯å³å¯ã€‚
  + å¯¹äºæ¯ä¸ªç­”æ¡ˆè¿›è¡ŒéªŒè¯ï¼šçœ‹æ¯æ®µèƒ½åˆ†è§£æˆå¤šå°‘ä¸ªmidçš„ç»³æ®µï¼Œä½¿ç”¨countç´¯åŠ ï¼Œåˆ¤æ–­èƒ½å¦æ»¡è¶³æ¡ä»¶ï¼Œ

---


## 2017 Senior


ï¼ˆå¤§æ•´æ•°é™¤æ³•ï¼‰ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°på’Œqï¼Œå…¶ä¸­pä¸è¶…è¿‡$10^{100}$ï¼Œ qä¸è¶…è¿‡100000ï¼Œ æ±‚ p é™¤ä»¥ q çš„å•†å’Œä½™æ•°ã€‚ï¼ˆç¬¬ä¸€ç©º 2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰ è¾“å…¥ï¼šç¬¬ä¸€è¡Œæ˜¯ p çš„ä½æ•° nï¼Œç¬¬äºŒè¡Œæ˜¯æ­£æ•´æ•° pï¼Œç¬¬ä¸‰è¡Œæ˜¯æ­£æ•´æ•° qã€‚ è¾“å‡ºï¼šä¸¤è¡Œï¼Œåˆ†åˆ«æ˜¯ p é™¤ä»¥ q çš„å•†å’Œä½™æ•°ã€‚

```C++
#include <iostream>
using namespace std;
int p[100];
int n, i, q, rest;
char c;
int main(){
    cin >> n;
    for (i = 0; i < n; i++){
        cin >> c;
        p[i] = c - '0';
    }
    cin >> q;
    rest = ____________________;
    i = 1;
    while (________________ && i < n){
        rest = rest * 10 + p[i];
        i++;
    }
    if (rest < q) cout << 0 << endl;
    else{
        cout << _____________________;
        while (i < n){
            rest = ____________________;
            i++;
            cout << rest / q;
        }
        cout << endl;
    }
    cout << ____________________ << endl;
    return 0;
}
```
+ ç­”æ¡ˆï¼š
1. p[0] 
2. rest < q
3. rest / q
4. rest % q * 10 + p[i]
5. rest % q

+ åˆ†æï¼šæ¨¡æ‹Ÿç«–å¼é™¤æ³•ï¼Œrestè¡¨ç¤ºä½™æ•°ã€‚æ¯æ¬¡ç”¨restæ‰¾åˆ°ä¸€ä¸ªå¤§äºqçš„éƒ¨åˆ†ï¼Œé‡‡ç”¨ç§¦ä¹éŸ¶ç®—æ³•ã€‚
  
---

ï¼ˆæœ€é•¿è·¯å¾„ï¼‰ç»™å®šä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œæ¯æ¡è¾¹é•¿åº¦ä¸º 1ï¼Œæ±‚å›¾ä¸­çš„æœ€é•¿è·¯å¾„é•¿åº¦ã€‚ï¼ˆç¬¬äº”ç©º 2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰ è¾“å…¥ï¼šç¬¬ä¸€è¡Œæ˜¯ç»“ç‚¹æ•° nï¼ˆä¸è¶…è¿‡ 100ï¼‰å’Œè¾¹æ•° mï¼Œæ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° aï¼Œ bï¼Œè¡¨ç¤ºä»ç»“ç‚¹ a åˆ°ç»“ç‚¹ b æœ‰ä¸€æ¡æœ‰å‘è¾¹ã€‚ç»“ç‚¹æ ‡å·ä» 0 åˆ°(n-1)ã€‚ è¾“å‡ºï¼šæœ€é•¿è·¯å¾„é•¿åº¦ã€‚ æç¤ºï¼šå…ˆè¿›è¡Œæ‹“æ‰‘æ’åºï¼Œç„¶åæŒ‰ç…§æ‹“æ‰‘åºè®¡ç®—æœ€é•¿è·¯å¾„ã€‚


```C++
#include <iostream>
using namespace std;
int n, m, i, j, a, b, head, tail, ans;
int graph[100][100]; // ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾
int degree[100];     // è®°å½•æ¯ä¸ªç»“ç‚¹çš„å…¥åº¦
int len[100];        // è®°å½•ä»¥å„ç»“ç‚¹ä¸ºç»ˆç‚¹çš„æœ€é•¿è·¯å¾„é•¿åº¦
int queue[100];      // å­˜æ”¾æ‹“æ‰‘æ’åºç»“æœ
int main(){
    cin >> n >> m;
    for (i = 0; i < n; i++)
        for (j = 0; j < n; j++)
            graph[i][j] = 0;
    for (i = 0; i < n; i++)
        degree[i] = 0;
    for (i = 0; i < m; i++){
        cin >> a >> b;
        graph[a][b] = 1;
        _________________________;
    }
    tail = 0;
    for (i = 0; i < n; i++)
        if (________________________){
            queue[tail] = i;
            tail++;
        }
    head = 0;
    while (tail < n - 1){
        for (i = 0; i < n; i++)
            if (graph[queue[head]][i] == 1){
                _______________________;
                if (degree[i] == 0){
                    queue[tail] = i;
                    tail++;
                }
            }
        ________________________;
    }
    ans = 0;
    for (i = 0; i < n; i++){
        a = queue[i];
        len[a] = 1;
        for (j = 0; j < n; j++)
            if (graph[j][a] == 1 && len[j] + 1 > len[a])
                len[a] = len[j] + 1;
        if (______________________)
            ans = len[a];
    }
    cout << ans << endl;
    return 0;
}
```

+ ç­”æ¡ˆï¼š
1. degree[b]++
2. degree[i]==0
3. degree[i]--
4. head++
5. ans<len[a]

+ åˆ†æ
  + æ‹“æ‰‘æ’åºä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†æ˜¯é¡¶ç‚¹åº¦æ•°çš„å¤„ç†ï¼Œè¯¥éƒ¨åˆ†åªèƒ½æ”¾åœ¨è¯»å…¥æ—¶åˆå§‹åŒ–ã€‚
  + ç”¨bfsçš„æ–¹å¼å¤„ç†æ‹“æ‰‘æ’åºï¼Œæ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œæ¯æ¬¡å»æ‰ç»“ç‚¹åå°†ä¸‹ä¸€æ­¥åˆ°è¾¾çš„ç‚¹åº¦æ•°-1
  + æ²¡æœ‰å‡ºåº¦çš„é¡¶ç‚¹æ˜¯è·¯å¾„çš„ç»ˆç‚¹ï¼Œè®°å½•å¯¹åº”çš„lenå€¼ï¼Œå–æœ€å¤§å€¼å³ä¸ºç­”æ¡ˆã€‚


---

## 2016 Junior

è¯»å…¥æ•´æ•°ã€‚è¯·å®Œå–„ä¸‹é¢çš„ç¨‹åºï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿè¯»å…¥ä¸¤ä¸ª int èŒƒå›´å†…çš„æ•´æ•°ï¼Œ å¹¶å°†è¿™ä¸¤ä¸ªæ•´æ•°åˆ†åˆ«è¾“å‡ºï¼Œæ¯è¡Œä¸€ä¸ªã€‚ï¼ˆç¬¬ä¸€ã€äº”ç©º 2.5 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰
è¾“å…¥çš„æ•´æ•°ä¹‹é—´å’Œå‰ååªä¼šå‡ºç°ç©ºæ ¼æˆ–è€…å›è½¦ã€‚è¾“å…¥æ•°æ®ä¿è¯åˆæ³•ã€‚
ä¾‹å¦‚ï¼š
è¾“å…¥ï¼š
123 -789
è¾“å‡ºï¼š 132
-789

```C++
#include <iostream>
using namespace std;

int readint(){
	int num = 0;	      // å­˜å‚¨è¯»å–åˆ°çš„æ•´æ•°
	int negative = 0;    // è´Ÿæ•°æ ‡è¯†
	char c;	              // å­˜å‚¨å½“å‰è¯»å–åˆ°çš„å­—ç¬¦
	c = cin.get();
	while ((c < '0' || c > '9') && c != '-')
		c = __________________;
	if (c == '-') negative = 1;
	else _____________________;
	c = cin.get();
	while (___________________){
		_________________;
		c = cin.get();
	}
	if (negative == 1) _____________________;
	return num;
}
int main(){
	int a, b;
	a = readint();
	b = readint();
	cout << a << endl << b << endl;
	return 0;
}
```

+ ç­”æ¡ˆï¼š
1. cin.get()
2. num = c-'0'
3. c>='0' && c<= '9'
4. num = num * 10 + c-'0'
5. num = -num;

+ åˆ†æï¼š å­—ç¬¦ä¸²å¿«é€Ÿè¯»å…¥ï¼Œæˆ–ç§°è¾“å…¥è¾“å‡ºå¤–æŒ‚ã€‚èƒŒè¯µã€‚ 

---

ï¼ˆéƒŠæ¸¸æ´»åŠ¨ï¼‰æœ‰ n ååŒå­¦å‚åŠ å­¦æ ¡ç»„ç»‡çš„éƒŠæ¸¸æ´»åŠ¨ï¼Œå·²çŸ¥å­¦æ ¡ç»™è¿™ n ååŒå­¦ çš„éƒŠæ¸¸æ€»ç»è´¹ä¸º A å…ƒï¼Œä¸æ­¤åŒæ—¶ç¬¬ i ä½åŒå­¦è‡ªå·±æºå¸¦äº† Mi å…ƒã€‚ä¸ºäº†æ–¹ä¾¿éƒŠ æ¸¸ï¼Œæ´»åŠ¨åœ°ç‚¹æä¾› B(â‰¥n)è¾†è‡ªè¡Œè½¦ä¾›äººç§Ÿç”¨ï¼Œç§Ÿç”¨ç¬¬ j è¾†è‡ªè¡Œè½¦çš„ä»·æ ¼ä¸º Cj å…ƒï¼Œæ¯ä½åŒå­¦å¯ä»¥ä½¿ç”¨è‡ªå·±æºå¸¦çš„é’±æˆ–è€…å­¦æ ¡çš„éƒŠæ¸¸ç»è´¹ï¼Œä¸ºäº†æ–¹ä¾¿è´¦åŠ¡ç®¡ ç†ï¼Œæ¯ä½åŒå­¦åªèƒ½ä¸ºè‡ªå·±ç§Ÿç”¨è‡ªè¡Œè½¦ï¼Œä¸”ä¸ä¼šå€Ÿé’±ç»™ä»–äººï¼Œä»–ä»¬æƒ³çŸ¥é“æœ€å¤š æœ‰å¤šå°‘ä½åŒå­¦èƒ½å¤Ÿç§Ÿç”¨åˆ°è‡ªè¡Œè½¦ã€‚ï¼ˆç¬¬å››ã€äº”ç©º 2.5 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰
æœ¬é¢˜é‡‡ç”¨äºŒåˆ†æ³•ã€‚å¯¹äºåŒºé—´[l, r]ï¼Œæˆ‘ä»¬å–ä¸­é—´ç‚¹ mid å¹¶åˆ¤æ–­ç§Ÿç”¨åˆ°è‡ªè¡Œ è½¦çš„äººæ•°èƒ½å¦è¾¾åˆ° midã€‚åˆ¤æ–­çš„è¿‡ç¨‹æ˜¯åˆ©ç”¨è´ªå¿ƒç®—æ³•å®ç°çš„ã€‚

```C++
#include <iostream>
using namespace std;
#define MAXN 1000000

int n, B, A, M[MAXN], C[MAXN], l, r, ans, mid;

bool check(int nn) {
	int count = 0, i, j;
	i = ____________________;
	j = 1;
	while (i <= n) {
		if(______________)
			count += C[j] - M[i];
		i++;
		j++;
	}
	return ___________________;
}
	
void sort(int a[], int l, int r) {
	int i = l, j = r, x = a[(l + r) / 2], y;
	while (i <= j) {
		while (a[i] < x) i++;
		while (a[j] > x) j--;
		if (i <= j) {
			y = a[i]; a[i] = a[j]; a[j] = y;
			i++; j--;
		}
	}
if (i < r) sort(a, i, r);
if (l < j) sort(a, l, j);
}

int main() {
	int i;
	cin >> n >> B >> A;
	for (i = 1; i <= n; i++)
		cin >> M[i];
	for (i = 1; i <= B; i++)
		cin >> C[i];
	sort(M, 1, n);
	sort(C, 1, B);
	l = 0;
	r = n;
	while (l <= r) {
		mid = (l + r) / 2;
		if(_________________){
            ans = mid;
			l = mid + 1;
		}else
			r = ___________________;
	}
	cout << ans << endl;
	return 0;
}
```

+ ç­”æ¡ˆï¼š
1. n-nn+1
2. M[i]<=C[j]
3. count<=A
4. check(mid)
5. mid-1

+ åˆ†æï¼š
  + check å‡½æ•°æ˜¯ç”¨æ¥åˆ¤æ–­ç§Ÿè½¦äººæ•°èƒ½å¦åˆ°è¾¾midï¼Œä¹Ÿå³nn. æ¨¡æ‹Ÿå³å¯ã€‚
  + äºŒåˆ†çš„é¢˜ç›®éœ€è¦æ³¨æ„è¾¹ç•Œçš„å˜åŒ–æ–¹å¼ä¸åˆ¤å®šæ¡ä»¶ã€‚


---

## 2016 Senior
ï¼ˆäº¤æœ‹å‹ï¼‰æ ¹æ®ç¤¾ä¼šå­¦ç ”ç©¶è¡¨æ˜ï¼Œäººä»¬éƒ½å–œæ¬¢æ‰¾å’Œè‡ªå·±èº«é«˜ç›¸è¿‘çš„äººåšæœ‹å‹ã€‚ç°åœ¨æœ‰ n åèº«é«˜ä¸¤ä¸¤ä¸ç›¸åŒçš„åŒå­¦ä¾æ¬¡èµ°å…¥æ•™å®¤ï¼Œè°ƒæŸ¥äººå‘˜æƒ³é¢„æµ‹æ¯ä¸ªäººåœ¨ èµ°å…¥æ•™å®¤çš„ç¬é—´æœ€æƒ³å’Œå·²ç»è¿›å…¥æ•™å®¤çš„å“ªä¸ªäººåšæœ‹å‹ã€‚å½“æœ‰ä¸¤ååŒå­¦å’Œè¿™å åŒå­¦çš„èº«é«˜å·®ä¸€æ ·æ—¶ï¼Œè¿™ååŒå­¦ä¼šæ›´æƒ³å’Œé«˜çš„é‚£ä¸ªäººåšæœ‹å‹ã€‚æ¯”å¦‚ä¸€åèº«é«˜ä¸º 1.80 ç±³çš„åŒå­¦è¿›å…¥æ•™å®¤æ—¶ï¼Œæœ‰ä¸€åèº«é«˜ä¸º 1.79 ç±³çš„åŒå­¦å’Œä¸€åèº«é«˜ä¸º1.81ç±³çš„åŒå­¦åœ¨æ•™å®¤é‡Œï¼Œé‚£ä¹ˆè¿™åèº«é«˜ä¸º 1.80 ç±³çš„åŒå­¦ä¼šæ›´æƒ³å’Œèº«é«˜ä¸º 1.81 ç±³çš„åŒå­¦åšæœ‹å‹ã€‚å¯¹äºç¬¬ä¸€ä¸ªèµ°å…¥æ•™å®¤çš„åŒå­¦æˆ‘ä»¬ä¸åšé¢„æµ‹ã€‚ç”±äºæˆ‘ä»¬çŸ¥é“æ‰€æœ‰äººçš„èº«é«˜å’Œèµ°è¿›æ•™å®¤çš„æ¬¡åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç¦»çº¿çš„åšæ³•æ¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨æ’åºåŠ é“¾è¡¨çš„æ–¹å¼å¸®åŠ©æ¯ä¸€ä¸ªäººæ‰¾åˆ°åœ¨ä»–ä¹‹å‰è¿›å…¥æ•™å®¤çš„å¹¶ä¸”å’Œä»–èº«é«˜æœ€ç›¸è¿‘çš„äººã€‚ï¼ˆç¬¬ä¸€ç©º 2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰

```C++
#include <iostream> 
using namespace std; 
#define MAXN 200000
#define infinity 2147483647
int answer[MAXN], height[MAXN], previous[MAXN], next[MAXN];
int rank[MAXN];
int n;
void sort(int l, int r){
    int x = height[rank[(l + r) / 2]], i = l, j = r, temp;
    while (i <= j){
        while (height[rank[i]] < x) i++;
        while (height[rank[j]] > x) j--;
        if ((____________________)){
            temp = rank[i];
            rank[i] = rank[j];
            rank[j] = temp;
            i++;
            j--;
        }
    }
    if (i < r) sort(i, r);
    if (l < j) sort(l, j);
}
int main(){
    cin >> n;
    int i, higher, shorter;
    for (i = 1; i <= n; i++){
        cin >> height[i];
        rank[i] = i;
	}
	sort(1, n);
	for (i = 1; i <= n; i++){
		previous[rank[i]] = rank[i - 1];
		(__________________);
	}
	for (i = n; i >= 2; i--){
		higher = shorter = infinity;
		if (previous[i] != 0)
			shorter = height[i] - height[previous[i]];
		if (next[i] != 0) (____________________);
		if ((____________________)) answer[i] = previous[i];
		else answer[i] = next[i];
		next[previous[i]] = next[i];
		(______________________);
	}
	for (i = 2; i <= n; i++)
		cout << i << ":" << answer[i];
	return 0;
}
```

+ ç­”æ¡ˆï¼š
1. i<=j
2. next [ rank[i] ]=rank[i+1] 
3. higher = height[ next[i] ] - height[i] 
4. shorter < higher 
5. previous[next[i]] = previous[i] 

+ åˆ†æï¼š
  + é‡‡ç”¨ç±»ä¼¼å¿«æ’çš„æ–¹å¼ï¼Œä»¥ç¬¬iä¸ªäººä½œä¸ºåŸºå‡†ï¼Œå°†äººç¾¤åˆ†ä¸ºä¸¤ç±»ã€‚
  + ç”¨æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨ï¼Œå»ºç«‹é“¾è¡¨çš„nextæ•°ç»„ã€‚
  + åˆ†åˆ«è®¡ç®—é«˜ä¸€ç‚¹ä¸çŸ®ä¸€ç‚¹çš„èº«é«˜å·®è·ï¼Œé€‰æ‹©æ›´æ¥è¿‘çš„é‚£ä¸ªã€‚

---


(äº¤é€šä¸­æ–­ï¼‰æœ‰ä¸€ä¸ªå°å›½å®¶ï¼Œå›½å®¶å†…æœ‰ n åº§åŸå¸‚å’Œ m æ¡åŒå‘çš„é“è·¯ï¼Œæ¯æ¡é“è·¯è¿æ¥ç€ä¸¤åº§ä¸åŒçš„åŸå¸‚ã€‚å…¶ä¸­ 1 å·åŸå¸‚ä¸ºå›½å®¶çš„é¦–éƒ½ã€‚ç”±äºåœ°éœ‡é¢‘ç¹å¯èƒ½å¯¼è‡´æŸä¸€ä¸ªåŸå¸‚ä¸å¤–ç•Œäº¤é€šå…¨éƒ¨ä¸­æ–­ã€‚è¿™ä¸ªå›½å®¶çš„é¦–è„‘æƒ³çŸ¥é“ï¼Œå¦‚æœåªæœ‰ç¬¬i(i>1)ä¸ªåŸå¸‚å› åœ°éœ‡è€Œå¯¼è‡´äº¤é€šä¸­æ–­æ—¶ï¼Œé¦–éƒ½åˆ°å¤šå°‘ä¸ªåŸå¸‚çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¼šå‘ç”Ÿæ”¹å˜ã€‚å¦‚æœå› ä¸ºæ— æ³•é€šè¿‡ç¬¬ i ä¸ªåŸå¸‚è€Œå¯¼è‡´ä»é¦–éƒ½å‡ºå‘æ— æ³•åˆ°è¾¾æŸä¸ªåŸå¸‚ï¼Œä¹Ÿè®¤ä¸ºåˆ°è¾¾è¯¥åŸå¸‚çš„æœ€çŸ­è·¯å¾„é•¿åº¦æ”¹å˜ã€‚ å¯¹äºæ¯ä¸€ä¸ªåŸå¸‚ iï¼Œå‡å®šåªæœ‰ç¬¬ i ä¸ªåŸå¸‚ä¸å¤–ç•Œäº¤é€šä¸­æ–­ï¼Œè¾“å‡ºæœ‰å¤šå°‘ä¸ª åŸå¸‚ä¼šå› æ­¤å¯¼è‡´åˆ°é¦–éƒ½çš„æœ€çŸ­è·¯å¾„é•¿åº¦æ”¹å˜ã€‚ æˆ‘ä»¬é‡‡ç”¨é‚»æ¥è¡¨çš„æ–¹å¼å­˜å‚¨å›¾çš„ä¿¡æ¯ï¼Œå…¶ä¸­ head[x]è¡¨ç¤ºé¡¶ç‚¹ x çš„ç¬¬ä¸€æ¡ è¾¹çš„ç¼–å·ï¼Œnext[i]è¡¨ç¤ºç¬¬ i æ¡è¾¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·ï¼Œpoint[i]è¡¨ç¤ºç¬¬ i æ¡è¾¹çš„ç»ˆç‚¹ï¼Œweight[i]è¡¨ç¤ºç¬¬ i æ¡è¾¹çš„é•¿åº¦ã€‚ï¼ˆç¬¬ä¸€ç©º 2 åˆ†ï¼Œå…¶ä½™ 3 åˆ†ï¼‰

```C++
#include <iostream>
#include <cstring>
using namespace std;
#define MAXN 6000
#define MAXM 100000
#define infinity 2147483647
int head[MAXN], next[MAXM], point[MAXM], weight[MAXM];
int queue[MAXN], dist[MAXN], visit[MAXN];
int n, m, x, y, z, total = 0, answer;
void link(int x, int y, int z){
    total++;
    next[total] = head[x];
    head[x] = total;
    point[total] = y;
    weight[total] = z;
    total++;
    next[total] = head[y];
    head[y] = total;
    point[total] = x;
    weight[total] = z;
}
int main(){
    int i, j, s, t;
    cin >> n >> m;
    for (i = 1; i <= m; i++){
        cin >> x >> y >> z;
        link(x, y, z);
    }
    for (i = 1; i <= n; i++)
        dist[i] = infinity;
    ________________________;
    queue[1] = 1;
    visit[1] = 1;
    s = 1;
    t = 1;
    // ä½¿ç”¨ SPFA æ±‚å‡ºç¬¬ä¸€ä¸ªç‚¹åˆ°å…¶ä½™å„ç‚¹çš„æœ€çŸ­è·¯é•¿åº¦
    while (s <= t){
        x = queue[s % MAXN];
        j = head[x];
        while (j != 0){
            if (______________________){
                dist[point[j]] = dist[x] + weight[j];
                if (visit[point[j]] == 0){
                    t++;
                    queue[t % MAXN] = point[j];
                    visit[point[j]] = 1;
                }
            }
            j = next[j];
        }
        _________________________;
        s++;
    }
    for (i = 2; i <= n; i++){
        queue[1] = 1;
        memset(visit, 0, sizeof(visit));
        visit[1] = 1;
        s = 1;
        t = 1;
        while (s <= t){ // åˆ¤æ–­æœ€çŸ­è·¯é•¿åº¦æ˜¯å¦ä¸å˜
            x = queue[s];
            j = head[x];
            while (j != 0){
                if (point[j] != i && ___________________ && visit[point[j]] == 0){
                    _________________________;
                    t++;
                    queue[t] = point[j];
                }
                j = next[j];
            }
            s++;
        }
        answer = 0;
        for (j = 1; j <= n; j++)
            answer += 1 - visit[j];
        cout << i << ":" << answer - 1 << endl;
    }
    return 0;
}
```

+ ç­”æ¡ˆï¼š
1. dist[1] = 0
2. dist[x]+weight[j]<dist[point[j]]
3. visit[x]=0 
4. weight[j]+dist[x]==dist[point[j]]
5. visit[point[j]]=1 

+ åˆ†æï¼šSPFAç®—æ³•æ¨¡æ¿ï¼ŒèƒŒè¯µã€‚